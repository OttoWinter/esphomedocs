TM1651 Battery Display
===========================

.. seo::
    :description: Instructions for setting up TM1651 Battery Display.
    :image: tm1651_battery_display.jpg

.. _tm1651:

Battery Display
---------------

The ``tm1651`` display platform allows you to use battery display units based on TM1651 chip, like
`this one <https://aliexpress.com/item/32811491559.html>`__
with ESPHome. Currently integration supports level and brightness setting. All updates can be made via lambda expressions.

.. figure:: images/tm1651-battery-display.jpg
    :align: center
    :width: 70.0%

.. code-block:: yaml

    api:
      services:
        - service: battery_level
          variables:
            level: float
          then:
            - lambda: |-
                id(tm1651_battery).set_level(level);
        - service: battery_brightness
          variables:
            brightness: int
          then:
            - lambda: |-
                id(tm1651_battery).set_brightness(brightness);

    display:
      - platform: tm1651
        id: tm1651_battery
        clk_pin: D6
        dio_pin: D5

Configuration variables:
************************

- **clk_pin** (**Required**, :ref:`Pin Schema <config-pin_schema>`): CLK pin
- **dio_pin** (**Required**, :ref:`Pin Schema <config-pin_schema>`): DIO pin
- **id** (*Optional*, :ref:`config-id`): Manually specify the ID used for code generation.

Method ``set_level`` receives float parameter from 0 to 1.
With ``set_brightness`` you can choose one from three levels of brightness (``1``, ``2`` or ``3``)
from lowest to highest brightness.

See Also
--------

- :doc:`index`
- :ghedit:`Edit`
