ESPHome IR HiFi amplifier control
=================================

.. seo::
    :description: The goal is to remote control the volume, a standard knob managing a potentiometer, and also switch the HiFi amplifier on and off.
    :image: arduino_pro_mini.jpg
    :keywords: IR servo mqtt ESPHome

The project is based on an ESP32 and ESPHome, to receive and decode the IR from a remote control. It can use any remote with a few minor adjustements.

.. figure:: images/ESPHome-IR-amplifier-control.jpg
    :align: center
    :width: 75.0%
The servo and the board are fixed with double sided tape, so everything is removable.

For the ON/OFF the project uses a Shelly Plug S managed via web from Node-RED. One of the keys of the remote is decoded and triggers a MQTT message that Node-RED can capture and convert to a relay toggle order for the Shelly Plug. Of course any other smart plug can be used if it accepts commands via web.

.. figure:: images/images/Apple_remote.jpg
    :align: left
    :width: 100.0%
    
.. figure:: images/servo_pulley.jpg
    :align: left
    :width: 100.0%

The remote used and the servo pulley (servo_pulley.stl included)

So, the project needs:

- TSOP38238 to receive infrared signals
- ESP-WROOM-32 module (or any board with similar module)
- 360 degrees small servo (not a standard one, but 360 degrees)
- Appropriate belt
- some 3.3 power source
  - 5 volts to 3.3 converter (it can be onboard)
  - Wall 5 volts power supply (or something equivalent)
- Any smart plug like Shelly Plug S or similar

Infrastructure:

- WiFi network
- ESPHome running (in my case Hassio version)
- Node-RED running (in my case Hassio version)


